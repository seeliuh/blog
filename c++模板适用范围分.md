# c++模板适用范围分析

前言:自从c++11出世，以及开源项目逐步发展强大以来，我发现许多新的c++开源项目，都越来越多的使用模板，似乎以前boost那种风格，逐渐成为了c++ coder的主流。

boost风格库可读性很差，为什么还有越来越多的项目采用这种类似的风格呢，第一步，应该先把模板理解透彻。

这一波研究，不打算涉及到变态的模板元编程。


## 模板替代多态(继承组合)
模板和继承组合的核心价值就是代码重用。我来分析几种场景，用来仔细分析两种方法的选择。

### 模板更适合算法重用
比如排序、查找。 排序和查找算法中，对于元素的操作主要是“等于”“大于”“小于”。当我们的查找、排序的元素是自定义类时，如何重用？

1. 继承

```void sort(vector<ISortElement*> ele);```ISortElement定义等于、大于、小于函数，函数使用者将自定义类继承接口ISortElement。

2. 模板

可以用operator定义大于小于等于

两种实现方法对比得出结论：
- 模板方式能配合operator操作，非入侵方式，不用改动自定义类
- 算法中对元素的操作频率可能会很高，继承方法显然效率会打折扣。
- 继承限定了元素必须用指针。不方便